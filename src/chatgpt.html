<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

<canvas id="barChart"></canvas>
<canvas id="lineChart"></canvas>

<script>
    var bookData = {
        "book_session": {
            "books.amap.xml": {
                "read_count": 1,
                "last_feedback_value": 5,
                "last_started_timestamp": "2022-10-22T15:47:23.7808160+01:00"
            },
            // rest of the data
        }
    };

    var bookTitles = [];
    var readCounts = [];
    var feedbackValues = [];
    var feedbackTimestamps = [];
    for (var book in bookData.book_session) {
        bookTitles.push(book);
        readCounts.push(bookData.book_session[book].read_count);
        feedbackValues.push(bookData.book_session[book].last_feedback_value);
        feedbackTimestamps.push(bookData.book_session[book].last_started_timestamp);
    }

    var barCtx = document.getElementById('barChart').getContext('2d');
    var barChart = new Chart(barCtx, {
        type: 'bar',
        data: {
            labels: bookTitles,
            datasets: [{
                label: 'Read Count',
                data: readCounts,
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    var lineCtx = document.getElementById('lineChart').getContext('2d');
    var lineChart = new Chart(lineCtx, {
        type: 'line',
        data: {
            labels: feedbackTimestamps,
            datasets: [{
                label: 'Average Feedback Value',
                data: feedbackValues,
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    max: 5
                }
            }
        }
    });
</script>